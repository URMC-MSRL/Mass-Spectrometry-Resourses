void 0===NS&&(NS=function(o){"use strict";function a(){}return function(e){for(var t,s=e.split("."),i=o,r=0;r<s.length;++r){if(void 0!==i[t=s[r]]){if(i[t]instanceof a==!1)throw new Error("Non Namespace Object exists, cannot create namespace.")}else i[t]=new a;i=i[t]}return i}}(this));var NS,searchAutoComplete=searchAutoComplete||{},getKeys=(NS("thermofisher.search").searchSelector={init:function(){function s(e){return e.find("."+a)}function i(e,t){var s=$("<option value='"+t.id+"'>"+t.name+"</option>");(t.group?function(e,t){var s=e.find("optgroup[label='"+t+"']");0==s.length&&(s=$("<optgroup label='"+t+"'></optgroup>"),"Product Category"===t?(e.prepend(s),$(".searchAutoCompleteProviderSelector").hide().trigger("chosen:updated")):e.append(s));return s}(e,t.group):e).append(s),r(e)}function r(e){1<e.find("option").length?($("#smartsearch").addClass("providers-enabled"),e.trigger("chosen:updated")):($("#smartsearch").removeClass("providers-enabled"),e.hide())}var o,a,n;function t(e){shouldLoadGuided=!1,shouldLoadGuided=function(e){var t=!1,s=new RegExp("^/../../"),i=new RegExp("^/antibody/product/"),r=new RegExp("^/antibody/target/"),o=new RegExp("^/antibody/sitemap/"),a=new RegExp("^/(order|store)/");s.test(e)&&(t=!0);i.test(e)&&(t=!0);r.test(e)&&(t=!!l(["/gene/","/panther/","/gene-ontology/","/protein/"],e));o.test(e)&&l(["/Primary-Antibodies-P1-Sitemap.html","/Primary-Antibodies-G1-Sitemap.html","/Secondary-Antibodies-L1-Sitemap.html","/Secondary-Antibodies-L1-Sitemap.html"],e)&&(t=!0);l(["/antibody/primary/query/","/antibody/primary/keyword/","/antibody/primary/gene/","/antibody/primary/target/","/antibody/secondary/query/","/antibody/secondary/keyword/","/antibody/secondary/target/","/antibody/control/query/","/antibody/control/keyword/","/immunoassays/elisa/query/","/antibody/protein/keyword/","/antibody/protein/query/","/home/life-science/cell-analysis/flow-cytometry.html","/life-science/pcr/real-time-pcr/","/home/life-science/cell-analysis/flow-cytometry/antibodies-for-flow-cytometry.html","/home/life-science/cell-analysis/flow-cytometry.html","/home/life-science/cell-analysis/flow-cytometry/antibodies-for-flow-cytometry.html","/products-and-services/aspire-member-program"],e)&&(t=!1);a.test(e)&&(t=!1);"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}("showGSH")&&(t=!0);return t}(window.location.pathname),console.log("shouldLoadGuided: "+shouldLoadGuided),$("#primarySearch, #generalSearch").addClass("hidden"),"primary-antibodies"==e.id&&shouldLoadGuided?($("#search-main .loading-wheel-sm").removeClass("hidden"),$("#primarySearch").load("//"+environmentURL.WCMSERVER+"/order/genome-database/antibody-search-form-cq?sourcePage=global-search&subtype=primary",function(){$("#search-main .loading-wheel-sm").addClass("hidden"),$("#primarySearch").removeClass("hidden"),searchTypeAhead.deleteMagellanSearch()})):"secondary-antibodies"==e.id&&shouldLoadGuided?($("#search-main .loading-wheel-sm").removeClass("hidden"),$("#primarySearch").load("//"+environmentURL.WCMSERVER+"/order/genome-database/antibody-search-form-cq?sourcePage=global-search&subtype=secondary",function(){$("#search-main .loading-wheel-sm").addClass("hidden"),$("#primarySearch").removeClass("hidden")}),$("#search-main").addClass("guided-form")):"isotype-controls"==e.id&&shouldLoadGuided?($("#search-main .loading-wheel-sm").removeClass("hidden"),$("#primarySearch").load("//"+environmentURL.WCMSERVER+"/order/genome-database/antibody-search-form-cq?sourcePage=global-search&subtype=control",function(){$("#search-main .loading-wheel-sm").addClass("hidden"),$("#primarySearch").removeClass("hidden")})):$("#generalSearch").removeClass("hidden")}function l(e,t){return new RegExp(e.join("|")).test(t)}window.performance&&window.performance.mark&&window.performance.mark("searchbar.js:blockBegin"),searchAutoComplete.providers=searchAutoComplete.providers||{},searchAutoComplete.providerSelector=(n=!(a="searchAutoCompleteProviderSelector"),function(e){return o=$(document.getElementById(e)),{isNotMouseOver:function(){return!n},selectorExists:function(){return 0<s(o).length},createSelector:function(e,t,s){var i,r;i=o,r=e,(e=$("<select id='chosenselector' class='"+a+"'></select>")).hide(),i.prepend(e),e.chosen({width:"100%",multiple:!1,disable_search:!0}),$("#focusAreaSelector").empty(),$(".chosen-container").appendTo("#focusAreaSelector"),e.bind("change",function(e){1024<$(window).width()&&setTimeout(function(){$("#suggest1").focus()},10)}),e.mouseover(function(){n=!0}),e.mouseleave(function(){n=!1}),e.change(function(e){r&&r(e.target.value),$("input[role='search']",i).trigger("focus")})},addToSelector:function(e){var t;!e||0<(t=s(o)).length&&(0<t.find("option[value='"+e.id+"']").length||i(t,e))},removeFromSelector:function(e){var t=s(o);(t=t).find("option[value='"+e+"']").remove(),r(t)},setActive:function(e){var t=s(o);t.val(e),setTimeout(function(){t.trigger("chosen:updated")},0)}}}),$(document).bind("onSetProvider",function(e){e.provider&&e.provider.id&&t(e.provider)})}},NS("thermofisher.search").searchFocusArea={init:function(){!function(){var n,o,i,a,l={}.hasOwnProperty;function s(e,t){this.form_field=e,this.options=null!=t?t:{},s.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}function e(){this.options_index=0,this.parsed=[]}e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,s,i,r,o,a=this.parsed.length;for(this.parsed.push({array_index:a,group:!0,label:this.escapeExpression(e.label),title:e.title||void 0,children:0,disabled:e.disabled,classes:e.className}),o=[],s=0,i=(r=e.childNodes).length;s<i;s++)t=r[s],o.push(this.add_option(t,a,e.disabled));return o},e.prototype.add_option=function(e,t,s){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title||void 0,selected:e.selected,disabled:!0===s?s:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t;return null==e||!1===e?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},e.replace(/&(?!\w+;)|[\<\>\"\'\`]/g,function(e){return t[e]||"&amp;"})):e},(a=e).select_to_array=function(e){for(var t,s=new a,i=e.childNodes,r=0,o=i.length;r<o;r++)t=i[r],s.add_node(t);return s.parsed},s.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1},s.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||s.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||s.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||s.default_no_result_text},s.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},s.prototype.mouse_enter=function(){return this.mouse_on_container=!0},s.prototype.mouse_leave=function(){return this.mouse_on_container=!1},s.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},s.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},s.prototype.results_option_build=function(e){for(var t,s="",i=this.results_data,r=0,o=i.length;r<o;r++)s+=(t=i[r]).group?this.result_add_group(t):this.result_add_option(t),null!=e&&e.first&&(t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(t)));return s},s.prototype.result_add_option=function(e){var t,s;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),(s=document.createElement("li")).className=t.join(" "),s.style.cssText=e.style,s.setAttribute("data-option-array-index",e.array_index),s.innerHTML=e.search_text,e.title&&(s.title=e.title),this.outerHTML(s)):""},s.prototype.result_add_group=function(e){var t,s;return(e.search_match||e.group_match)&&0<e.active_options?((t=[]).push("group-result"),e.classes&&t.push(e.classes),(s=document.createElement("li")).className=t.join(" "),s.innerHTML=e.search_text,e.title&&(s.title=e.title),this.outerHTML(s)):""},s.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},s.prototype.reset_single_select_options=function(){for(var e,t=this.results_data,s=[],i=0,r=t.length;i<r;i++)(e=t[i]).selected?s.push(e.selected=!1):s.push(void 0);return s},s.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},s.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},s.prototype.winnow_results=function(){var e,t,s,i,r,o,a,n,l,c,h,d;for(this.no_results_clear(),i=0,e=(o=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(e,"i"),s=this.get_search_regex(e),c=0,h=(d=this.results_data).length;c<h;c++)(t=d[c]).search_match=!1,r=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(0===(r=this.results_data[t.group_array_index]).active_options&&r.search_match&&(i+=1),r.active_options+=1),t.search_text=t.group?t.label:t.html,t.group&&!this.group_search||(t.search_match=this.search_string_match(t.search_text,s),t.search_match&&!t.group&&(i+=1),t.search_match?(o.length&&(a=t.search_text.search(l),n=t.search_text.substr(0,a+o.length)+"</em>"+t.search_text.substr(a+o.length),t.search_text=n.substr(0,a)+"<em>"+n.substr(a)),null!=r&&(r.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),i<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},s.prototype.get_search_regex=function(e){var t=this.search_contains?"":"^";return new RegExp(t+e,"i")},s.prototype.search_string_match=function(e,t){var s,i,r,o;if(t.test(e))return!0;if(this.enable_split_word_search&&(0<=e.indexOf(" ")||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" ")).length)for(r=0,o=i.length;r<o;r++)if(s=i[r],t.test(s))return!0},s.prototype.choices_count=function(){var e,t,s;if(null==this.selected_option_count)for(e=this.selected_option_count=0,t=(s=this.form_field.options).length;e<t;e++)s[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},s.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},s.prototype.keyup_checker=function(e){var t=null!=(t=e.which)?t:e.keyCode;switch(this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&0<this.choices_count())return this.keydown_backstroke();if(this.pending_backstroke)break;return this.result_clear_highlight(),this.results_search();case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},s.prototype.clipboard_event_checker=function(){var e=this;return setTimeout(function(){return e.results_search()},50)},s.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},s.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},s.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},s.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},s.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},s.prototype.outerHTML=function(e){var t;return e.outerHTML||((t=document.createElement("div")).appendChild(e),t.innerHTML)},s.browser_is_supported=function(){return"Microsoft Internet Explorer"!==window.navigator.appName||4<=document.documentMode},s.default_multiple_text="Select Some Options",s.default_single_text="Select an Option",s.default_no_result_text="No results match",o=s,(n=jQuery).fn.extend({chosen:function(s){return o.browser_is_supported()?this.each(function(){var e=n(this),t=e.data("chosen");"destroy"===s&&t instanceof i?t.destroy():t instanceof i||e.data("chosen",new i(this,s))}):this}}),i=function(){function e(){return e.__super__.constructor.apply(this,arguments)}var t,s=e,i=o;function r(){this.constructor=s}for(t in i)l.call(i,t)&&(s[t]=i[t]);return r.prototype=i.prototype,s.prototype=new r,s.__super__=i.prototype,e.prototype.setup=function(){return this.form_field_jq=n(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},e.prototype.set_up_html=function(){var e=["chosen-container"];return e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),e={class:e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(e.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=n("<div />",e),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},e.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},e.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){return t.container_mousedown(e)}),this.container.bind("touchend.chosen",function(e){return t.container_mouseup(e),e.preventDefault()}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},e.prototype.destroy=function(){return n(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},e.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&n(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||n(e.target)[0]!==this.selected_item[0]&&!n(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),n(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},e.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},e.prototype.search_results_mousewheel=function(e){var t;return null!=(t=e.originalEvent?e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail:t)?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},e.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},e.prototype.close_field=function(){return n(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},e.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(e){e=n(e.target).closest(".chosen-container");return e.length&&this.container[0]===e[0]?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=a.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},e.prototype.result_do_highlight=function(e){var t,s,i;if(e.length)return this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),(e=parseInt(this.search_results.css("maxHeight"),10))+(i=this.search_results.scrollTop())<=(t=(s=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())?this.search_results.scrollTop(0<t-e?t-e:0):s<i?this.search_results.scrollTop(s):void 0},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},e.prototype.update_results_content=function(e){return this.search_results.html(e)},e.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},e.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},e.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=n("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(e){var t=n(e.target).hasClass("active-result")?n(e.target):n(e.target).parents(".active-result").first();return t.length?(this.result_highlight=t,this.result_select(e),this.search_field.focus()):void 0},e.prototype.search_results_mouseover=function(e){e=n(e.target).hasClass("active-result")?n(e.target):n(e.target).parents(".active-result").first();return e?this.result_do_highlight(e):void 0},e.prototype.search_results_mouseout=function(e){return n(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},e.prototype.choice_build=function(e){var t=this,s=n("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>");return e.disabled?s.addClass("search-choice-disabled"):((e=n("<a />",{class:"search-choice-close","data-option-array-index":e.array_index})).bind("click.chosen",function(e){return t.choice_destroy_link_click(e)}),s.append(e)),this.search_container.before(s)},e.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(n(e.target))},e.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},e.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},e.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},e.prototype.result_select=function(e){var t;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),(t=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[t.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(t):this.single_set_selected_text(this.choice_label(t)),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),!this.is_multiple&&this.form_field.selectedIndex===this.current_selectedIndex||this.form_field_jq.trigger("change",{selected:this.form_field.options[t.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())):void 0},e.prototype.single_set_selected_text=function(e){return(e=null==e?this.default_text:e)===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},e.prototype.result_deselect=function(e){e=this.results_data[e];return!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},e.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},e.prototype.get_search_text=function(){return n("<div/>").text(n.trim(this.search_field.val())).html()},e.prototype.winnow_results_set_highlight=function(){var e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=(e.length?e:this.search_results.find(".active-result")).first();return null!=e?this.result_do_highlight(e):void 0},e.prototype.no_results=function(e){var t=n('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');return t.find("span").first().html(e),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},e.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.keydown_checker=function(e){var t=null!=(t=e.which)?t:e.keyCode;switch(this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},e.prototype.search_field_scale=function(){var e,t,s,i,r,o,a;if(this.is_multiple){for(s="position:absolute; left: -1000px; top: -1000px; display:none;",o=r=0,a=(i=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;o<a;o++)s+=(t=i[o])+":"+this.search_field.css(t)+";";return(e=n("<div />",{style:s})).text(this.search_field.val()),n("body").append(e),r=e.width()+25,e.remove(),e=this.container.outerWidth(),this.search_field.css({width:(r=e-10<r?e-10:r)+"px"})}},e}()}.call(this)}},{}),baseProvider={},ltSearchLoadEvent={};function waitForDigitalDataObject(e){window.digitalData.search?(console.log("digitalData is available, firing method"),e()):(console.log("digitalData is not available, sleeping 50"),setTimeout(function(){waitForDigitalDataObject(e)},50))}NS("thermofisher.search").searchProvider={init:function(){baseProvider=function(e,t,s,r,o,a,n,l,c){return function(i){return(i=e.extend(!0,{id:t,name:s,group:a,submitPath:r,typeAheadUrl:o,include:n,exclude:l,activation:c},i)).include&&(i.include=new RegExp(i.include,"i")),i.exclude&&(i.exclude=new RegExp(i.exclude,"i")),i.activation&&(i.activation=new RegExp(i.activation,"i")),{id:i.id,name:i.name,group:i.group,include:i.include,exclude:i.exclude,activation:i.activation,isIncluded:function(e){var t=!0,s=!1;return this.include&&(t=this.include.test(e)),this.exclude&&(s=this.exclude.test(e)),t&&!s},prepareQuery:function(e,t,s){searchTypeAhead.processQuery(e,i,t,s)},prepareSubmit:function(e,t,s){searchTypeAhead.processSubmit(e,t,s,i)}}}},searchAutoComplete.providers.allSources=new baseProvider($,"all-categories","All Categories","/search/results?query={keyword}","/search/service/typeaheadSuggestions?query={keyword}&countryCode={country_code}");getKeys=(getKeys=Object.keys)||function(e){var t,s=[];for(t in e)e.hasOwnProperty(t)&&s.push(t);return s},searchAutoCompleteFA=function(i,e){var t=i("#"+e),r={keyword:i("#suggest1"),recent_searches:i(".flyout-recent-searches",t)},s={},o={};var a,n,l,c={globalProvider:window.globalProviderConfig,getDictionary:function(){return s},getSearchHistory:function(){return o},getHighlightedTerm:function(){return null},setKeyword:function(){searchTypeAhead.setKeywordExternal()},setKeywordNoAuto:function(){try{searchTypeAhead.setKeywordNoSearch()}catch(e){console.error(e)}},addProvider:function(e,t){e&&e.isIncluded(window.location.href)&&h&&e.id&&(h[e.id]=e,c.providerSelector&&(c.providerSelector.selectorExists()||t||c.providerSelector.createSelector(function(e){c.setProvider(e,!0)}),c.providerSelector.addToSelector(e)))},setProvider:function(e,t){var s;h&&e&&(void 0===(s=h[e])&&(s=h["all-categories"]),i(document).trigger({type:"onSetProvider",provider:s}),s&&(curProvider=a=s,c.providerSelector&&(c.providerSelector.setActive(e),t&&(isSuggestionsEnabled=!1,searchTypeAhead.suggestionVisible()&&searchTypeAhead.hideSuggestion(),searchTypeAhead.hideResultsBox(),hoveredItem=null,mode.setKeywordEntry(),s=r.keyword.val(),searchTypeAhead.setKeyword(s),i(".dim-background").trigger("closedimbg")))),r.keyword.attr("placeholder",thermofisher.search.searchProvider.getPlaceholder(e)))},removeProvider:function(e){var t;h&&e&&(t=getKeys(h),delete h[e],c.providerSelector.removeFromSelector(e),t=getKeys(h),a.id==e&&c.setProvider(t[0]))},setMatchedRules:function(e){var t=!1;if(e&&e.activation&&e.isIncluded(window.location.href)){e.matchedRules=[];for(var s=e.activation.source.split("|"),i=0;i<s.length;i++)""!=s[i]&&(s[i]=new RegExp(s[i],"i"),s[i].test(window.location.href)&&(e.matchedRules.push({rule:s[i]}),t=!0))}return t},setPrecedence:function(e){for(var t=window.location.href,s=0;s<e.matchedRules.length;s++){e.matchedRules[s].rank=s,e.matchedRules[s].endingWildCard=!1,e.matchedRules[s].endingDollar=!1,e.matchedRules[s].matchAtEnd=!1,e.matchedRules[s].precedenceScore=0,e.matchedRules[s].endIndex=0;var i=e.matchedRules[s].rule.source,i=(-1!==i.indexOf("$",i.length-"$".length)&&(e.matchedRules[s].rule=new RegExp(i.substring(0,i.length-"$".length),"i"),e.matchedRules[s].endingDollar=!0),-1!==i.indexOf(".*",i.length-".*".length)&&(e.matchedRules[s].rule=new RegExp(i.substring(0,i.length-".*".length),"i"),e.matchedRules[s].endingWildCard=!0),t.match(e.matchedRules[s].rule));i&&i[0]&&(e.matchedRules[s].endIndex=t.indexOf(i[0])+i[0].length-1,e.matchedRules[s].endIndex==t.length-1&&(e.matchedRules[s].matchAtEnd=!0)),1==e.matchedRules[s].matchAtEnd?(1==e.matchedRules[s].endingDollar&&(e.matchedRules[s].precedenceScore+=100,1==e.matchedRules[s].endingWildCard&&(e.matchedRules[s].precedenceScore-=10)),0==e.matchedRules[s].endingWildCard&&(e.matchedRules[s].precedenceScore+=10)):1==e.matchedRules[s].endingWildCard&&(e.matchedRules[s].precedenceScore+=10)}},rankProviders:function(e){for(var t=0;t<e.length;t++)e[t].rank=t,1<e[t].matchedRules.length&&e[t].matchedRules.sort(function(e,t){return t.endIndex-e.endIndex||t.rule.source.length-e.rule.source.length||t.precedenceScore-e.precedenceScore||e.rank-t.rank});return e.sort(function(e,t){return t.matchedRules[0].endIndex-e.matchedRules[0].endIndex||t.matchedRules[0].rule.source.length-e.matchedRules[0].rule.source.length||t.matchedRules[0].precedenceScore-e.matchedRules[0].precedenceScore||e.rank-t.rank}),e[0]}},h={},d=(c.providerSelector=searchAutoComplete.providerSelector(e),searchAutoComplete.providers.allSources()),u=(c.addProvider(d,!1),d.id),p=[];if(-1!=(idx=window.location.href.indexOf("/store/aspire/trials"))&&(n=window.location.href.substring(idx)),-1<window.location.href.indexOf("filter=")?idx=window.location.href.indexOf("filter="):-1<window.location.href.indexOf("application=")&&(idx=window.location.href.indexOf("application=")),-1!=idx&&(l=window.location.href.substring(idx)),c.globalProvider&&c.globalProvider.items&&0<c.globalProvider.items.length){for(var _=0;_<c.globalProvider.items.length;_++){(g=c.globalProvider.items[_]).id==d.id&&(c.setProvider(u),c.removeProvider(d.id));var f=new baseProvider(i,g.id||"provider_"+_,g.title,g.searchURL,g.typeAheadURL,g.group,g.include,g.exclude,g.activation)(),g=(c.addProvider(f,!1),(rulesMatched=c.setMatchedRules(f))&&(c.setPrecedence(f),p.push(f)),g.searchURL+"&");(n&&-1!=g.indexOf(n)||l&&-1!=g.indexOf(l))&&(u=f.id)}p[0]&&(u=c.rankProviders(p).id)}return c.setProvider(u),c}($,"smartsearch"),$(function(){var e;thermofisher.search.searchTypeAhead.init(),window.$typeahead||(window.$typeahead=searchAutoCompleteFA,window.location.href,window.$typeahead.setKeywordNoAuto(sessionStorage.getItem("searchKeyword")),null!=(e=sessionStorage.getItem("isSearchLocation"))&&"true"==e&&thermofisher.search.searchProvider.setSearchLocation())}),(ltSearchLoadEvent=function(){var e,t;"undefined"!=_lt.user.loyalty.initialized&&!_lt.user.loyalty.initialized||(e=_lt.user.loyalty.isUserActive(),t=_lt.user.loyalty.isUserEnrolled(),e||t||searchAutoCompleteFA.removeProvider("trial-catalog"))})()},escapeHtmlQuery:function(e){return encodeURIComponent(e)},getUrlParameter:function(e){e=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==e?null:decodeURIComponent(e[1])||0},getPlaceholder:function(e){var t,s,i;return"undefined"!=typeof translations?(t="all-categories",s=$("#chosenselector option:selected").text(),i="ja"==(i=getCookie("CK_LANG_CODE"))||"ko"==i?'"'+s+'" '+translations.searchIn:translations.searchIn+'"'+s+'"',$(window).width()<=1024&&e==t?translations.searchButton:1024<$(window).width()&&e==t?translations.search:i):"Search"},setSearchLocation:function(){waitForDigitalDataObject(function(){window.digitalData.search.searchLocation="Top Search",sessionStorage.removeItem("isSearchLocation")})}};var searchTypeAhead=searchTypeAhead||{};NS("thermofisher.search").searchTypeAhead={populateSignal:function(e,t,s){return' data-parameters="signal_type,fusion_query_id,query,app_id,element_clicked,typeahead_suggestion" data-signal_type="request" data-fusion_query_id="'+e+'" data-query="'+t+'" data-app_id="tf-search-searchbar-ui" data-element_clicked="typeahead" data-typeahead_suggestion="'+s+'"'},init:function(){function t(e,t){return t=t||"",(e=e||!1)||t}function e(e){e=e||!1,w.keyword&&C&&w.keyword.val(C.attr("term")),e?w.hidden_autocomplete.val("true"):w.hidden_autocomplete.remove(),w.form.submit()}function y(){m&&m.removeClass("active"),m=null}function s(e){e.keyCode===f.DOWN||e.keyCode===f.UP?e.keyCode===f.DOWN?(nextItem=m.closest("li").next().find("a")[0],m&&nextItem?r(nextItem,0):r(w.recent_searches.find("a:first")[0],0)):(nextItem=m.closest("li").prev().find("a")[0],m&&nextItem?r(nextItem,0):r(w.recent_searches.find("a:last")[0],0)):e.keyCode===f.ENTER&&submitSearch()}function i(e){e.keyCode===f.DOWN||e.keyCode===f.UP?(b(".typeahead-term-list li").removeClass("highlighted"),m?r(function(e){switch(e.keyCode){case f.DOWN:var t=!!m&&!!m.closest("li").nextAll("li").closest("li").not(".typeahead-ignore").not(".typeahead-group").first().html()?m.closest("li").nextAll().not(".typeahead-ignore").not(".typeahead-group").first().find("a")[0]:null;return t||w.search_terms.find("li").not(".typeahead-group").first().find("a:first")[0];case f.UP:t=!!m&&!!m.closest("li").prevAll("li").not(".typeahead-ignore").not(".typeahead-group").first().html()?m.closest("li").prevAll("li").not(".typeahead-ignore").not(".typeahead-group").first().find("a")[0]:null;return t||w.search_terms.find("li").not(".typeahead-group").last().find("a:last")[0]}return null}(e),0):(r((e.keyCode===f.DOWN?w.search_terms.find("a:first"):w.search_terms.find("a:last"))[0],0),mode.setListNavigator())):e.keyCode!=f.BACKSPACE&&e.keyCode!=f.DEL||(x=!1,searchTypeAhead.suggestionVisible()&&(searchTypeAhead.hideSuggestion(),e.preventDefault()))}function r(e,t,s){var i;g&&(searchTypeAhead.hideSuggestion(),t=t||0,m=b(e||this),k="undefined"==s||!s,(i=m).attr("term"),e=function(){i===m&&(C&&C.removeClass("active"),C=i.addClass("active"),i.closest("li").not(".typeahead-ignore").not(".typeahead-group").addClass("highlighted"))},t?A[m.attr("term")]=setTimeout(e,t):e())}function o(e){return 47<e&&e<58||32==e||13==e||64<e&&e<91||95<e&&e<112||229==e||0==e||185<e&&e<193||e==f.RIGHT||e==f.LEFT||e==f.UP||e==f.DOWN||e==f.BACKSPACE||e==f.DEL||e==f.ENTER||e==f.ESC||218<e&&e<223}function v(e,t){var s=t.toLowerCase().indexOf(""+e.toLowerCase()),e=s+e.length-1,i=t.slice(0,s),s=t.slice(s,1+e),e=t.slice(1+e);return""==s?t:i+"<strong>"+s+"</strong>"+e}function a(e,t){var t=t||this,s=t.getAttribute("term");b(t).css("text-decoration","none"),null==A[s]&&(clearTimeout(void 0),delete A[s])}function n(){clearTimeout(_),w.form.addClass("active")}function l(e,t){var s,i,r;searchTypeAhead.suggestionVisible()&&searchTypeAhead.selectCurrentSuggestion(),void 0!==(i=(s=t.attr("data-omni-action"))?0==s.indexOf("CATEGORY")?s.split("|")[2]:s.split("|")[1]:i)&&sessionStorage.setItem("typeahead-kw",i),setTimeout(function(){(r=t.attr("href"))?window.location=r:(mode.setListNavigator(),submitSearch(),searchTypeAhead.hideResultsBox())},T),e.stopPropagation()}function c(e,t){document.dispatchEvent(new CustomEvent("suggestedSearchClick",{detail:{search:{suggestedLinkName:t.find("span.typeahead-span").text(),suggestedLinkType:t.attr("data-suggestions"),term:sessionStorage.getItem("input-keyword")}}}))}var b,h,d,u,p,_,f,w,x,g,m,k,S,C,A,T,R,E,P,I,D,N,O;searchTypeAhead.curProvider=searchTypeAhead.curProvider||{},searchTypeAhead.mode=searchTypeAhead.mode||{},searchTypeAhead.submitSearch=searchTypeAhead.submitSearch||{},b=$,f={BACKSPACE:8,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46},w={keyword:b("#suggest1"),typeahead_container:b("#header-typeahead"),term_list:b("div.typeahead-terms"),search_terms:b("ul.typeahead-term-list"),flyout:b(".flyout-typeahead"),recent_searches:b(".flyout-recent-searches"),hidden_autocomplete:b("#typeahead-autocomplete"),submit_button:b("#searchButton"),form:b("#smartsearch"),suggested:b("#header-typeahead-suggested"),clear_search:b("#searchRemove"),click_magnify_mobile:b("#searchMagnifyMobile"),magellan_input:b("#primarySearch .search-input")},S=k=g=!(x=!0),C=m=null,A={},T=200,R="data-omni-action",E={},P={},I=-1<window.location.href.split("/").indexOf("browse"),D=!1,w.form.submit(function(e){return e.preventDefault(),h=b.trim(w.keyword.val()),!curProvider.prepareSubmit(w.form,w.keyword,e)&&!!h}),submitSearch=function(){w.form.submit()},mode={setKeywordEntry:function(){d=i,submitSearch=function(){w.form.submit()}},setListNavigator:function(){submitSearch=function(){e(!0)}},setRecentSearches:function(){y(),d=s,submitSearch=function(){e(!1)}}},w.form.keydown(function(e){g&&d(e)}),w.submit_button.click(function(e){return h=b.trim(w.keyword.val()),t(I,h)&&searchTypeAhead.startFormSubmit(),e.preventDefault(),!1}),w.keyword.keyup(function(e){return(h=b.trim(w.keyword.val()))&&0<h.length?w.clear_search.removeClass("searchRemoveHide"):w.clear_search.addClass("searchRemoveHide"),!o(e.keyCode)||(e.keyCode===f.UP||e.keyCode===f.DOWN||(e.keyCode==f.ENTER||(!(e.keyCode!=f.BACKSPACE&&e.keyCode!=f.DEL||!searchTypeAhead.suggestionVisible())||(mode.setKeywordEntry(),void searchTypeAhead.setKeyword(this.value)))))}).keydown(function(e){if(h=b.trim(w.keyword.val()),!o(e.keyCode))return!0;switch(e.keyCode){case f.RIGHT:if(searchTypeAhead.suggestionVisible())return searchTypeAhead.selectCurrentSuggestion(),S=!0,w.keyword.addClass("suggested"),!1;break;case f.ENTER:return t(I,h)&&searchTypeAhead.startFormSubmit(!0),e.preventDefault(),!1;case f.BACKSPACE:case f.DEL:if(S&&(S=!1,w.keyword.removeClass("suggested")),searchTypeAhead.suggestionVisible())return!1}x=!0,n(),searchTypeAhead.hideSuggestion()}).bind({paste:function(){var e=this;setTimeout(function(){searchTypeAhead.setKeyword(e.value),n()},20)},cut:function(){var e=this;setTimeout(function(){searchTypeAhead.setKeyword(e.value)},20)}}),w.typeahead_container.bind("mouseout, mouseleave",function(e){C&&C.removeClass("active"),m=C=null}),b("#searchButton").click(function(e){document.dispatchEvent(new CustomEvent("searchFormSubmit",{detail:{search:{term:sessionStorage.getItem("input-keyword")}}}))}),N=jQuery.fn.jquery.split("-")[0],N=Number(N.split(".")[1]),O=Number("7.0"),N<O?(w.typeahead_container.live("click","a.typeahead-term",function(e){c(0,b(e.target))}),w.typeahead_container.live("click",".typeahead-term",function(e){l(e,b(e.target))}),w.magellan_input.live("click",function(e){searchTypeAhead.deleteMagellanSearch()}),w.typeahead_container.live("mouseenter","a.typeahead-term",function(e){r(this,70,!0)}).live("mouseleave","a.typeahead-term",a),w.typeahead_container.live("mouseenter","li.term a",function(e){r(this,0)}).live("mouseleave","li.term a",a)):(w.typeahead_container.on("click","a.typeahead-term",function(e){c(0,b(e.currentTarget))}),w.typeahead_container.on("click",".typeahead-term",function(e){l(e,b(e.currentTarget))}),b("#primarySearch").on("click",w.magellan_input,function(e){searchTypeAhead.deleteMagellanSearch()}),w.typeahead_container.on("mouseenter","a.typeahead-term",function(e){r(this,70,!0)}).on("mouseleave","a.typeahead-term",a),w.typeahead_container.on("mouseenter","li.term a",function(e){r(this,0)}).on("mouseleave","li.term a",a),w.typeahead_container.on("mouseenter","a.typeahead-term",function(e){b(this).closest("li").not(".typeahead-ignore").not(".typeahead-group").addClass("highlighted")}).on("mouseleave","a.typeahead-term",function(e){b(".typeahead-term-list li").removeClass("highlighted")})),b("body").click(function(e){var t,e=e||event;if(e.srcElement?t=e.srcElement:e.target&&(t=e.target),b(t).hasClass("typeahead-term")||b(t).hasClass("typeahead-span"))return w.typeahead_container.unbind("mouseout, mouseleave"),!0;b(t).is("#searchButton")||b(t).closest("#header-typeahead").length||(searchAutoComplete.providerSelector()&&!searchAutoComplete.providerSelector().isNotMouseOver()||(_=setTimeout(function(){searchTypeAhead.hideResultsBox(),w.form.removeClass("active")},100)),g=!1)}),w.clear_search.click(function(e){w.suggested.removeClass("active"),w.keyword.val(""),w.suggested.val(""),w.clear_search.addClass("searchRemoveHide")}),w.click_magnify_mobile.click(function(e){return h=b.trim(w.keyword.val()),t(I,h)&&searchTypeAhead.startFormSubmit(),e.preventDefault(),!1}),w.keyword.click(function(e){e.stopPropagation(),g||(0===this.value.length?(mode.setRecentSearches(),searchTypeAhead.showRecentSearchesBox()):(mode.setKeywordEntry(),(e=searchTypeAhead.getCurrentKeyword())&&(searchTypeAhead.showResultsBox(),searchTypeAhead.callSearchService(e))),n())}),w.recent_searches.find(".term").click(function(e){return e.stopPropagation(),submitSearch(),!1}),b("#search-mobile-button").bind("click",function(e){b("#suggest1").focus(),b(".data-hj-whitelist").placeholder=translations.searchButton}),searchTypeAhead={curProvider:"",startFormSubmit:function(e){(e=e||!1)&&document.dispatchEvent(new CustomEvent("searchFormSubmit",{detail:{search:{term:sessionStorage.getItem("input-keyword")}}})),searchTypeAhead.suggestionVisible()&&searchTypeAhead.hideSuggestion(),setTimeout(function(){m&&m.attr("href")&&k?window.location=m.attr("href"):(m&&k&&mode.setListNavigator(),submitSearch())},T)},getCurrentKeyword:function(){return p},setKeyword:function(e,t){return mode.setKeywordEntry(),(e=b.trim(e))?(w.clear_search.removeClass("searchRemoveHide"),p!==e&&(p=e,t&&w.keyword.val(p),searchTypeAhead.callSearchService(p)),!0):(p="",searchTypeAhead.hideResultsBox(),!1)},setKeywordNoSearch:function(e){var t=window.location.href.indexOf("query"),s=thermofisher.search.searchProvider.getUrlParameter("query"),i=thermofisher.search.searchProvider.getUrlParameter("keyword"),r=sessionStorage.getItem("typeahead-kw");return(s&&""!=s||i&&""!=i)&&(w.clear_search.removeClass("searchRemoveHide"),w.keyword.val(s||i)),-1==t||s||void 0===r||null==r||(w.keyword.val(r),w.clear_search.removeClass("searchRemoveHide"),e="",sessionStorage.setItem("searchKeyword",r)),mode.setKeywordEntry(),(e=b.trim(e))?(w.clear_search.removeClass("searchRemoveHide"),p!==e&&(p=e,w.keyword.val(p)),!0):(p="",searchTypeAhead.hideResultsBox(),!1)},setKeywordExternal:function(e,t){searchTypeAhead.setKeyword(e,!0)},hideResultsBox:function(){w.typeahead_container.hide(),searchTypeAhead.hideSuggestion(),g=!1},showResultsBox:function(){w.recent_searches.hide(),w.flyout.show(),w.term_list.css("width","100%"),w.typeahead_container.show();var e=new CustomEvent("searchEvent",{detail:{searchEventDetail:"showResults"}});document.dispatchEvent(e),g=!0},hideRecentSearchesBox:function(){w.typeahead_container.hide(),w.recent_searches.hide(),g=!1},showRecentSearchesBox:function(){var e;m=null,searchTypeAhead.loadRecentSearchData(),0<w.recent_searches.children().length&&(w.flyout.hide(),w.typeahead_container.show(),e=new CustomEvent("searchEvent",{detail:{searchEventDetail:"showResults"}}),document.dispatchEvent(e),w.recent_searches.show(),g=!0)},isInUse:function(){return w.form.hasClass("active")},getSuggestion:function(){return w.suggested.val()},showSuggestion:function(e){w.suggested.val(""+e),w.suggested.addClass("active")},hideSuggestion:function(){w.suggested.val(""),w.suggested.removeClass("active");var e=new CustomEvent("searchEvent",{detail:{searchEventDetail:"hideSuggestion"}});document.dispatchEvent(e)},suggestionVisible:function(){return w.suggested.hasClass("active")},selectCurrentSuggestion:function(){var e=searchTypeAhead.getSuggestion();w.keyword.val(e),searchTypeAhead.setKeyword(e),searchTypeAhead.hideSuggestion()},listItems:function(e,t){list=null!=e.suggestions?e.suggestions:e.response.docs;var s=searchTypeAhead.getCurrentKeyword(),i=window.localizedStrings,r="in",o="Search suggestions",a=(getKeys(list),[]),n=new RegExp("[-.*+?|^${}()[\\]\\/\\\\]","g"),l=s.replace(n,"\\$&"),n=e.isSearchTypeahead,c="/search/browse/category/"+_lt.user.displayIso+"/"+_lt.user.displayLang+"/",l=l.replace(/[\s]+/g,"|");if(y(),i&&i.inText&&(r=i.inText),0<list.length&&!t)if(i&&i.searchSuggestions&&(o=i.searchSuggestions),n)for(var h,d,u,p=e.response.fusionQueryId,_=0;_<list.length;_++)h=list[_],a.push('<li class="typeahead-group search-suggestions">'+h.label+"</li>"),h.typeaheads.forEach(function(e){var t;a.push("<li>"),"products"==h.type?(d=e.title+"<br>"+e.catalogNumber,u=R+'="SKU|'+e.catalogNumber+'"',a.push('<a class="typeahead-term lw_signal_process"'+u+'term="'+e.catalogNumber+'" '+thermofisher.search.searchTypeAhead.populateSignal(p,l,d)+'data-suggestions="'+h.label+'">')):"categories"==h.type?(d=e.suggestion,t=c+e.categoryKey,u=R+'="CATEGORY|'+e.title+"|"+d+'"',a.push('<a class="typeahead-term lw_signal_process"'+u+'href="'+t+'" '+thermofisher.search.searchTypeAhead.populateSignal(p,l,d)+'data-suggestions="'+h.label+'">')):(d=e.suggestion,u=R+'="SKU|'+d+'"',a.push('<a class="typeahead-term lw_signal_process"'+u+'term="'+d+'" '+thermofisher.search.searchTypeAhead.populateSignal(p,l,d)+'data-suggestions="'+h.label+'">')),a.push('<span class="typeahead-span">'+v(s,d)+"</span></a></li>")});else for(a.push('<li class="typeahead-ignore">'),a.push('<div class="search-suggestions">'+o+"</div>"),_=0;_<list.length;_++){var f,g,m=(g=list[_]).suggestion1;"AutoComplete"==g.type?m!==searchTypeAhead.getCurrentKeyword()&&x&&searchTypeAhead.showSuggestion(m):(E[m]||(E[m]={}),list[_].horizontalRegister&&a.push('<li class="typeahead-ignore"><span class="typeahead-hr"></span></li>'),a.push("<li>"),(f="")!=g.fusionQueryId&&(f=thermofisher.search.searchTypeAhead.populateSignal(g.fusionQueryId,l,m)),list[_].url?a.push('<a class="typeahead-term lw_signal_process" href="'+list[_].url+'" '+R+'="CATEGORY|'+list[_].title+"|"+m+'"'+f+' data-suggestions="'+o+'"><span class="typeahead-span">'+v(s,m)+" "+r+' <span class="title-text">'+list[_].title+"</span></span></a>"):list[_].title?a.push("<a "+R+'="SKU|'+m+'" term="'+m+'" class="typeahead-term lw_signal_process" '+f+' data-suggestions="'+o+'"><span class="typeahead-span">'+v(s,m+" &minus; "+list[_].title)+"</span></a>"):a.push("<a "+R+'="STANDARD|'+m+'" term="'+m+'" class="typeahead-term lw_signal_process"'+f+' data-suggestions="'+o+'"><span class="typeahead-span">'+v(s,m)+"</span></a>"),a.push("</li>"))}return 0<a.length?(b("#header-typeahead").show(),w.search_terms.html(a.join("")),thermofisher.search.SignalsStatic.init()):b("#header-typeahead").hide(),a.length},processResults:function(e,t,s){t&&(P[t]=e),t&&t!=u||(searchTypeAhead.isInUse()&&searchTypeAhead.showResultsBox(),e&&e.response&&searchTypeAhead.listItems(e,s)||(500!=e.statusCode&&null!=e.suggestions?searchTypeAhead.listItems(e,s):searchTypeAhead.hideResultsBox()))},callSearchService:function(e){var t=curProvider.id+"_"+e,s=b("#chosenselector :selected"),i=P[t];s.closest("optgroup").attr("label");sessionStorage.setItem("input-keyword",e),u=t,i?searchTypeAhead.processResults(i):curProvider.prepareQuery(e,!1,function(e){searchTypeAhead.processResults(e,t,!1)})},transformQuery:function(e){var t={response:{numFound:e.length,docs:[]}};if(e.result&&"string"==typeof e.result){try{var s=JSON.parse(e.result)}catch(e){}if(s&&s.response&&s.response.docs&&s.response.docs.length){for(var i=0;i<s.response.docs.length;i++){var r=s.response.docs[i],o=r.value||"";r.term=o,r.suggestion1=o}t.response.numFound=s.response.docs.length,t.response.docs=s.response.docs}}else if(e.typeaheadLabels){var a,n=[],l=0;for(a in e){var c={type:"type",label:"typeaheadLabel",typeaheads:[]};e[a]&&a in e.typeaheadLabels&&0<e[a].length&&(c.type=a,c.label=e.typeaheadLabels[a],c.typeaheads=e[a],l+=e[a].length,n.push(c))}t.response.fusionQueryId=e.fusionQueryId,t.response.numFound=l,t.response.docs=n}else if(e)for(var h={sku:"suggestion1",term:"suggestion1",magellanUrl:"url",searchUrl:"url",title:"title",category:"title",type:"type"},d="",i=0;i<e.length;i++){var u={horizontalRegister:!1},p=e[i];if(p.fusionQueryId)d=p.fusionQueryId;else{for(var _ in p)h[_]&&(u[h[_]]=p[_]);u.fusionQueryId=d,0<i&&e[i-1].type!=u.type&&(u.horizontalRegister=!0),t.response.docs.push(u)}}return t},processQuery:function(e,t,s,i){var r,o=2,t=t.typeAheadUrl;_lt.displayLangMatch("ja ko zh zt")&&(o=1),e&&e.length>=o?(-1!=(r=t.replace("{keyword}",thermofisher.search.searchProvider.escapeHtmlQuery(e)).replace("{country_code}",_lt.user.displayIso)).indexOf("/order/genome-database/keywordTypeAhead")&&(r=r.replace(/\"/g,"%22")),b.ajax({url:r,data:{language:_lt.user.displayLang,countryCode:_lt.user.displayIso},dataType:"json",success:function(e){s||(e=searchTypeAhead.transformQuery(e)),-1!=r.indexOf("/search/service/typeaheadSuggestions")&&(e.isSearchTypeahead=!0),i&&i(e)}})):i&&i({})},processSubmit:function(t,s,e,i){var r,o;if(!t.prepared)return t.prepared=!0,e&&e.preventDefault(),r=thermofisher.search.searchProvider.escapeHtmlQuery(s.val()),o=i.submitPath,sessionStorage.setItem("searchKeyword",r),sessionStorage.setItem("typeahead-kw",r),setTimeout(function(){o=(o=s?o.replace("{keyword}",r):o).replace("{focusAreaName}",encodeURIComponent(i.name)),aspireTrialsUrl=o.indexOf("aspire/trials");var e=new RegExp(/(?:immunoassays|antibody|microbe-detection|order|crispr)\/(?:elisa|primary|taqman|genome-database|invitrogen)(.*?)$/gi);if(o.match(e)&&sessionStorage.setItem("isSearchLocation","true"),-1!=(window.location.href=o).indexOf("#!")&&(thermofisher.search.searchProvider.setSearchLocation(),e=o.split("#!"),t.prepared=void 0,window.location.href=e[0]+"#!"+e[1]),-1!==o.indexOf("/search/results"))try{thermofisher.search.SignalsStatic.requestEvents(r)}catch(e){console.log("Siganls post failed")}},300),!0},deleteMagellanSearch:function(){var s=b(".search-input"),t=b(".type-ahead-container #searchRemove");t.length||b(".type-ahead-container").append('<i id="searchRemove" class="clearable searchRemoveHide"><img src="/search/searchbar/resources/images/icon_16_close_mono@1_5x.svg" alt="clear"></i>'),s.length&&b(s).keyup(function(e){var t=b.trim(s.val());t&&0<t.length?b(this).closest(".type-ahead-container").find("#searchRemove").removeClass("searchRemoveHide"):b(this).closest(".type-ahead-container").find("#searchRemove").addClass("searchRemoveHide")}),b(".type-ahead-container .clearable").click(function(e){s.val(""),t.addClass("searchRemoveHide")})},loadRecentSearchData:function(){var e;D||(e=getCookie("s_ecid"))&&(e=(e=decodeURIComponent(e)).split("|")[1],b.ajax({url:"/search/api/recentSearch/"+e,type:"GET",contentType:"application/json; charset=utf-8",success:function(e){if(-1!==(e=JSON.stringify(e)).indexOf("keyword")){var t=[],s=(e=JSON.parse(e)).keyword,i=s.length<7?s.length:7,e=b(".flyout-recent-searches");t.push('<li class="recent-searches">'+translations.recentSearch+"</li>");for(var r=0;r<i;r++)t.push('<li class="term"><a href="javascript:void(0)" term="'+s[r]+'" data-uw-rm-brl="exc"><span>'+s[r]+"</span></a></li>");1<t.length&&(e.append(t),e.removeClass("hide"),w.recent_searches.find(".term").click(function(){b("a",this).attr("term");return submitSearch(),!1}))}},error:function(e){console.log("Recent search errors: "+e)}}),D=!0)}},window.performance&&window.performance.mark&&window.performance.mark("searchbar.js:blockEnd")}};